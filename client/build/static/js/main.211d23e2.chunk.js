(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(8),c=t.n(r),i=t(43),l=(t(84),t(12)),s=t(29),m=t(23),d=t(153),u=t(40),p=t.n(u),g=t(152),h=t(148),E=t(154),k=t(110),B=t(142),f=t(155),v=t(147),S=t(156),O=t(157),b=Object(B.a)((function(e){return{root:{"& > *":{margin:e.spacing(2),display:"flex"}}}}));function y(e){var a=b(),t=Object(n.useState)(""),r=Object(s.a)(t,2),c=r[0],i=r[1];return o.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},o.a.createElement("div",{className:a.root},o.a.createElement(S.a,{id:"b-title",label:"Title",style:{margin:8},helperText:"Type a book title and click Search...",fullWidth:!0,margin:"normal",onChange:function(e){e.preventDefault(),e.stopPropagation(),i(e.target.value)}}),o.a.createElement(O.a,{variant:"contained",color:"primary",onClick:e.handleSearchBook(c)},"Search")))}var R=t(149),_=t(146),D=t(151),A=t(150),C=Object(B.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}}));function j(e){var a=e.book,t=e.isSaved,n=e.handleRemoveBook,r=e.handleSaveBook,c=C();return o.a.createElement(h.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(R.a,{className:c.card},o.a.createElement(A.a,{className:c.cardMedia,image:a.image,title:"Image title"}),o.a.createElement(D.a,{className:c.cardContent},o.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.title)),function(e,a,t,n){return e?o.a.createElement(_.a,null,o.a.createElement(v.a,{color:"inherit",href:a.link,target:"_blank",rel:"noopener"},o.a.createElement(O.a,{size:"small",color:"primary"},"View Info")),o.a.createElement(O.a,{size:"small",color:"primary",onClick:t(a._id)},"Remove")):o.a.createElement(_.a,null,o.a.createElement(v.a,{color:"inherit",href:a.link,target:"_blank",rel:"noopener"},o.a.createElement(O.a,{size:"small",color:"primary"},"View Info")),o.a.createElement(O.a,{size:"small",color:"primary",onClick:n(a.id)},"Save"))}(t,a,n,r)))}var F=function(e,a){return e.reverse().slice(0,a)},T=Object(B.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},navLink:{padding:"20px"},noBooks:{marginTop:e.spacing(4)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}}));function x(){return o.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(v.a,{color:"inherit",href:"/"},"Google Search Book App")," ",(new Date).getFullYear(),".")}function I(e){var a=T();return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,null),o.a.createElement(d.a,{position:"relative"},o.a.createElement(E.a,null,o.a.createElement(p.a,{className:a.icon}),o.a.createElement(k.a,{variant:"h6",color:"inherit",noWrap:!0},"Google Books Search"),o.a.createElement(k.a,{component:"p",color:"inherit",noWrap:!0},o.a.createElement(v.a,{className:a.navLink,color:"inherit",href:"/saved"},"Saved Books")))),o.a.createElement("main",null,o.a.createElement("div",{className:a.heroContent},o.a.createElement(f.a,{maxWidth:"md"},o.a.createElement(k.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Search a book!"),o.a.createElement(k.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"A web application to help you find information about any book - using the powerful Google Books API. Type it, Find it, Save it."),o.a.createElement(h.a,{container:!0,spacing:5,justify:"center"},o.a.createElement(h.a,{item:!0,xs:12},o.a.createElement(y,{handleSearchBook:e.handleSearchBook}))))),o.a.createElement(f.a,{className:a.cardGrid,maxWidth:"md"},e.displayRecentSaved?o.a.createElement(k.a,{component:"h1",variant:"h4",align:"left",color:"textSecondary",gutterBottom:!0},"Recently Saved Books"):o.a.createElement(k.a,{component:"h1",variant:"h4",align:"left",color:"textSecondary",gutterBottom:!0},"Search Results"),o.a.createElement(h.a,{container:!0,spacing:4},function(e,a,t,n){var r=T();return e.length>0?a?F(e,5).map((function(e,r){return o.a.createElement(j,{key:r,book:e,isSaved:a,handleRemoveBook:t,handleSaveBook:n})})):e.map((function(e,r){return o.a.createElement(j,{key:r,book:e,isSaved:a,handleRemoveBook:t,handleSaveBook:n})})):o.a.createElement(k.a,{className:r.noBooks,component:"p",align:"left",color:"textSecondary"},"There are no saved books at the moment")}(e.books,e.displayRecentSaved,e.handleRemoveBook,e.handleSaveBook)))),o.a.createElement("footer",{className:a.footer},o.a.createElement(x,null)))}var U=t(35),w=t.n(U),K=function(){return function(e,a){e({type:"BOOK_DBSEARCH_REQUEST",isFetchingBooks:!0}),w.a.get("/api/books").then((function(a){200===a.status&&e({type:"BOOK_DBSEARCH_SUCCESS",isFetchingBooks:!1,payload:a.data})})).catch((function(a){e(function(e){return{type:"BOOK_DBSEARCH_FAILURE",isFetchingBooks:!1,payload:e}}(a.message))}))}},L=function(e){return function(a,t){a({type:"BOOK_DBDELETE_REQUEST",isRemovingBook:!0}),w.a.delete("/api/books/"+e).then((function(e){200===e.status&&(a({type:"BOOK_DBDELETE_SUCCESS",isRemovingBook:!1,isFetchingBooks:!1,payload:""}),a(K()))})).catch((function(e){a(function(e){return{type:"BOOK_DBDELETE_FAILURE",isRemovingBook:!1,isFetchingBooks:!1,payload:e}}(e.message))}))}};var G=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return[e.books,e.displayRecentSaved]})),t=Object(s.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){e(K())}),[]),o.a.createElement(I,{books:r,handleRemoveBook:function(a){return function(t){t.preventDefault(),e(L(a))}},handleSearchBook:function(a){return function(t){t.preventDefault(),e(function(e){var a=e.replace(/\s+/g,"-").toLowerCase();return function(e,t){e({type:"BOOK_GAPI_SEARCH_REQUEST",isFetchingBooks:!0}),w.a.get("https://www.googleapis.com/books/v1/volumes?q="+a+"&key=AIzaSyBZ8hjsIV2tjLPhJgg1TFxn2nXMs_ikwfU").then((function(a){var t;200===a.status&&e((t=a.data.items,{type:"BOOK_GAPI_SEARCH_SUCCESS",isRemovingBook:!1,isFetchingBooks:!1,isAddingBook:!1,displayRecentSaved:!1,payload:t.map((function(e,a){return{id:e.id,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink,title:e.volumeInfo.title}}))}))})).catch((function(a){e(function(e){return{type:"BOOK_GAPI_SEARCH_FAILURE",isRemovingBook:!1,isFetchingBooks:!1,isAddingBook:!1,displayRecentSaved:!0,payload:e}}(a.message))}))}}(a))}},displayRecentSaved:c,handleSaveBook:function(a){return function(t){t.preventDefault();var n,o=r.filter((function(e){return e.id===a}));e((n=o[0],function(e,a){e({type:"BOOK_DBADD_REQUEST",isAddingBook:!0}),w.a.post("/api/books/",n).then((function(a){200===a.status&&e({type:"BOOK_DBADD_SUCCESS",isRemovingBook:!1,isFetchingBooks:!1,isAddingBook:!1,payload:""})})).catch((function(a){e(function(e){return{type:"BOOK_DBADD_FAILURE",isRemovingBook:!1,isFetchingBooks:!1,isAddingBook:!1,payload:e}}(a.message))}))}))}}})};var N=function(){return o.a.createElement(G,null)},H=Object(B.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},navLink:{padding:"20px"},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},noBooks:{marginTop:e.spacing(4)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}}));function W(){return o.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(v.a,{color:"inherit",href:"/"},"Google Search Book App")," ",(new Date).getFullYear(),".")}function P(e){var a=H();return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,null),o.a.createElement(d.a,{position:"relative"},o.a.createElement(E.a,null,o.a.createElement(p.a,{className:a.icon}),o.a.createElement(k.a,{variant:"h6",color:"inherit",noWrap:!0},"Google Books Search"),o.a.createElement(k.a,{component:"p",color:"inherit",noWrap:!0},o.a.createElement(v.a,{className:a.navLink,color:"inherit",href:"/"},"Home")))),o.a.createElement("main",null,o.a.createElement(f.a,{className:a.cardGrid,maxWidth:"md"},o.a.createElement(k.a,{component:"h1",variant:"h4",align:"left",color:"textSecondary",gutterBottom:!0},"All Saved Books"),o.a.createElement(h.a,{container:!0,spacing:4},e.books.length>0?F(e.books,5).map((function(a,t){return o.a.createElement(j,{key:t,book:a,isSaved:!0,handleRemoveBook:e.handleRemoveBook})})):o.a.createElement(k.a,{className:a.noBooks,component:"p",align:"left",color:"textSecondary"},"There are no saved books at the moment")))),o.a.createElement("footer",{className:a.footer},o.a.createElement(W,null)))}var Q=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return[e.books]})),t=Object(s.a)(a,1)[0];return Object(n.useEffect)((function(){e(K())}),[]),o.a.createElement(P,{books:t,handleRemoveBook:function(a){return function(t){t.preventDefault(),e(L(a))}},handleSaveBook:function(e){return function(e){e.preventDefault()}}})};var M={SearchBooks:N,SavedBooks:function(){return o.a.createElement(Q,null)}};var z=function(){return o.a.createElement("div",null,o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:M.SearchBooks}),o.a.createElement(l.a,{exact:!0,path:"/saved",component:M.SavedBooks})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=t(27),J=t(10),Y={isFetchingBooks:!1,isRemovinBook:!1,displayRecentSaved:!0,books:[],error:""},q=t(66),X=t(67),Z=Object(V.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"BOOK_DBSEARCH_REQUEST":return Object(J.a)(Object(J.a)({},e),{},{isFetchingBooks:!0,books:[],error:""});case"BOOK_DBSEARCH_SUCCESS":return Object(J.a)(Object(J.a)({},e),{},{isFetchingBooks:!1,books:a.payload,error:""});case"BOOK_DBSEARCH_FAILURE":return Object(J.a)(Object(J.a)({},e),{},{isFetchingBooks:!1,books:[],error:a.payload});case"BOOK_DBDELETE_REQUEST":return Object(J.a)(Object(J.a)({},e),{},{isRemovingBook:a.isRemovingBook,error:""});case"BOOK_DBDELETE_SUCCESS":return Object(J.a)({},e);case"BOOK_DBDELETE_FAILURE":return Object(J.a)(Object(J.a)({},e),{},{isFetchingBooks:!1,isRemovingBook:a.isRemovingBook,error:a.payload});case"BOOK_DBADD_REQUEST":case"BOOK_DBADD_SUCCESS":return Object(J.a)(Object(J.a)({},e),{},{isAddingBook:a.isAddingBook,error:""});case"BOOK_DBADD_FAILURE":return Object(J.a)(Object(J.a)({},e),{},{isAddingBook:a.isAddingBook,error:a.payload});case"BOOK_GAPI_SEARCH_REQUEST":return Object(J.a)(Object(J.a)({},e),{},{isFetchingBooks:a.isFetchingBooks});case"BOOK_GAPI_SEARCH_SUCCESS":return Object(J.a)(Object(J.a)({},e),{},{isFetchingBooks:a.isFetchingBooks,displayRecentSaved:a.displayRecentSaved,books:a.payload});case"BOOK_GAPI_SEARCH_FAILURE":return Object(J.a)(Object(J.a)({},e),{},{isFetchingBooks:!1,isRemovingBook:!1,displayRecentSaved:!0,error:a.payload});default:return e}}),Y,Object(V.compose)(Object(V.applyMiddleware)(X.a),Object(q.composeWithDevTools)()));c.a.render(o.a.createElement(m.a,{store:Z},o.a.createElement(i.a,null,o.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,a,t){e.exports=t(109)},84:function(e,a,t){}},[[79,1,2]]]);
//# sourceMappingURL=main.211d23e2.chunk.js.map